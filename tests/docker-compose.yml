version: '3.8'

x-php: &php
  volumes:
    - ./runtime:/app/tests/runtime
    - ..:/app

services:
  php8.0:
    <<: *php
    container_name: yii-queue-php80
    build:
      context: ..
      dockerfile: tests/docker/php/Dockerfile
      args:
        PHP_VERSION: '8.0'

  php8.1:
    <<: *php
    container_name: yii-queue-php81
    build:
      context: ..
      dockerfile: tests/docker/php/Dockerfile
      args:
        PHP_VERSION: '8.1'

  php8.2:
    <<: *php
    container_name: yii-queue-php82
    build:
      context: ..
      dockerfile: tests/docker/php/Dockerfile
      args:
        PHP_VERSION: '8.2'
